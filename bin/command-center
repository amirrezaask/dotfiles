#!/usr/bin/env bash

menu() {
	printf "$2" | wofi --show dmenu -p "$1"
}

show_style_menu() {
	case "$(menu 'Style Menu:' 'Û∞∏å  Theme\nÓôô  Font\n‚óê  Toggle Light/Dark Mode \nüåë  Dark Mode \n‚òÄ  Light Mode')" in
		*"Theme"*)
			echo "Selecting theme"
			select-theme
			;;
		*"Font"*)
			echo "Selecting font"
			show_font_menu
			;;
		*"Toggle"*)
			echo "Selecting Toggle"
			toggle-color-mode
			;;
		*Dark*)
			echo "Selecting Dark Mode"
			dark-mode
			;;
		*Light*)
			echo "Selecting Light Mode"
			light-mode
			;;
		*)
			echo "Invalid action"
			exit 1
			;;
	esac
}

show_font_menu() {
	font-set "$(fonts-list | wofi --show dmenu -p "Select font: ")"
}

show_theme_menu() {
	theme-set "$(themes-list | wofi --show dmenu -p "Select theme: ")"
}

show_menu() {
	case "$(menu 'Select Action:' 'Û∞Äª  Apps \nÓØè  Style\nÔÄë  System')" in
		*Apps*)
			launcher
			;;
		*System*)
			session-control
			;;
		*Style*)
			show_style_menu
			;;
		*)
			echo "Invalid action"
			exit 1
			;;
	esac
}


if [[ -n "$1" ]]; then
	$1
else
	show_menu
fi
