#!/usr/bin/env bash
awk_script='
BEGIN{modified_idx=0; added_idx=0; deleted_idx=0;}

{
	if ($1 == "M") {
		modified[sprintf("%d", modified_idx)]=$2; modified_idx+=1;
	} else if ($1 == "A") {
		added[sprintf("%d", added_idx)]=$2; added_idx+=1;
	} else if ($1 == "D") {
		deleted[sprintf("%d", deleted_idx)]=$2; deleted_idx+=1;
	}
}

END {
	if (modified_idx != 0) {
		printf "\t"
		print "Modified:";
		for (m in modified) {
			printf("\t\t%s\n", modified[m]);
		};
	}
	if (added_idx != 0) {
		printf "\t";
		print "Added:";
		for (a in added) {
			printf("\t\t%s\n", added[a]);
		};
	}
	if (deleted_idx != 0) {
		printf "\t";
		print "Deleted:";
		for (d in deleted) {
			printf("\t\t%s\n", deleted[d]);
		};
	}
}'

# Get unstaged files
printf "Add\nCommit \nDiff\nPush\n\n\n"
printf "Unstaged:\n"
git --no-pager diff --name-status | awk "$awk_script"

printf "\nStaged:\n"
git --no-pager diff --staged --name-status | awk "$awk_script"