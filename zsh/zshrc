export ZSHDIR="${HOME}/.config/zsh"
export ANTIGENPATH="${ZSHDIR}/antigen.sh"

# Bootstrap antigen
if [ ! -f $ANTIGENPATH ]; then
    curl -L git.io/antigen > "${ANTIGENPATH}" 
fi
source $ANTIGENPATH

# Load the oh-my-zsh's library.
antigen use oh-my-zsh

# Bundles from the default repo (robbyrussell's oh-my-zsh).
antigen bundle git

antigen bundle pip

antigen bundle lein

antigen bundle command-not-found

# Syntax highlighting bundle.
antigen bundle zsh-users/zsh-syntax-highlighting
# Zsh suggesions based on history
antigen bundle zsh-users/zsh-autosuggestions

# Load the theme.
antigen theme gnzh 

# Tell Antigen that you're done.
antigen apply



# better support for vterm
function vterm_printf(){
    if [ -n "$TMUX" ]; then
        # Tell tmux to pass the escape sequences through
        # (Source: http://permalink.gmane.org/gmane.comp.terminal-emulators.tmux.user/1324)
        printf "\ePtmux;\e\e]%s\007\e\\" "$1"
    elif [ "${TERM%%-*}" = "screen" ]; then
        # GNU screen (screen, screen-256color, screen-256color-bce)
        printf "\eP\e]%s\007\e\\" "$1"
    else
        printf "\e]%s\e\\" "$1"
    fi
}


# Personal variables
export EMACSCONFIG=~/.emacs.d
export GO111MODULE=on
export GOPATH=/home/amirreza/go
export GOROOT=/usr/local/go
export PYTHONPATH=/home/amirreza/.local/bin
export PATH=$HOME/.config/composer/vendor/bin:$GOROOT/bin:$GOPATH/bin:$HOME/.cargo/bin:$PYTHONPATH:/usr/local/Postman:$HOME/.local/elixir-ls/:$PATH
export EMACSTERMINAL="emacsclient -t"
alias e=$EMACSTERMINAL
export EDITOR=$EMACSTERMINAL
export SHELL=/bin/zsh


# TAB => Keycode 23
# ESC => Keycode 9
# Ctrl => 
# 
# remap <TAB> to escape
# xmodmap -e "keycode 23 = Escape"
alias open=xdg-open

# reset setxkbmap
setxkbmap -option

# Caps remapping

# setxkbmap -layout us,ir -option "caps:swapescape" -option "grp:alt_shift_toggle"
setxkbmap -layout us,ir -option "ctrl:nocaps" -option "grp:alt_shift_toggle"
