zstyle ':completion:*' menu select
zstyle ':completion:*' completer _complete
zstyle ':completion:*' matcher-list '' 'm:{[:lower:][:upper:]}={[:upper:][:lower:]}' '+l:|=* r:|=*'

autoload -U compinit && compinit
zmodload -i zsh/complist

unsetopt menu_complete
unsetopt flowcontrol

setopt prompt_subst
setopt always_to_end
setopt append_history
setopt auto_menu
setopt complete_in_word
setopt extended_history
setopt hist_expire_dups_first
setopt hist_ignore_dups
setopt hist_ignore_space
setopt hist_verify
setopt inc_append_history
setopt interactivecomments
setopt share_history


# Variables
export GO111MODULE='on'
export GOPATH="$HOME"
export PYTHONBINS="$HOME/.local/bin"
export EDITOR='nvim'
export GOPRIVATE='devheroes.codes,gitlab.com,git.espadev.ir'
export GOPROXY='goproxy.io'
export PLAN9="$HOME/.local/plan9"
export PATH="/usr/local/go/bin:$HOME/.config/composer/vendor/bin:$GOROOT/bin:$GOPATH/bin:$HOME/.cargo/bin:$PYTHONBINS:/usr/local/Postman:$HOME/.local/elixir-ls/:$PATH"

# Aliases
alias open='xdg-open'
alias g='git status'
alias ga='git add'
alias gcl='git clone'
alias gpl='git pull'
alias gd='git diff'
alias gc='git commit'
alias gp='git push'
alias gcm='git commit -m'
alias gf='git fetch'

alias lock='i3lock -c000000'
alias tf='terraform'
alias tg='terragrunt'
alias octl='kubectl --kubeconfig ~/.order/kubeconfig'
if type nvim > /dev/null 2>&1; then
    alias vim='nvim'
    alias vi='nvim'
fi

git_prompt() {
  BRANCH=$(git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/*\(.*\)/\1/')
  if [ ! -z $BRANCH ]; then
    echo -n "%F{yellow}$BRANCH%f"
    if [ ! -z "$(git status --short)" ]; then
      echo " %F{red}✗%f"
    else
      echo " %F{green}%f✓"
    fi
  fi
}

PROMPT='%F{208}%n%f %F{226}%~%f$(git_prompt) '
# setxkbmap -layout "us,ir" -option "grp:shifts_toggle" -option "ctrl:nocaps"
